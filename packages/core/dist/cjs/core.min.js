"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("pdfjs-dist");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r,o=n(e),i=a(t),l=o.default.createContext({prefixClass:"rpv-core"}),s=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(t){var n=t.children,a=t.size,r=void 0===a?24:a,i=e.useContext(l),s=(r||24)+"px";return o.default.createElement("svg",{className:i.prefixClass+"-icon",height:s,viewBox:"0 0 24 24",width:s},n)},c=function(){return o.default.createElement(u,{size:16},o.default.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},p=function(){var t=e.useContext(l);return o.default.createElement("svg",{className:t.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},o.default.createElement("circle",{className:t.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},d=function(t){var n=t.children,a=t.threshold,r=t.onVisibilityChanged,i=e.useRef(null);return e.useLayoutEffect((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;r({isVisible:t,ratio:n})}))}),{threshold:a||0}),t=i.current;if(t)return e.observe(t),function(){e.unobserve(t)}}),[]),o.default.createElement("div",{ref:i},n)},f=o.default.createContext({}),g={askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}},m=function(t){var n=t.children,a=t.localization,r=g,i=e.useState(a||r),l=i[0],s=i[1];return o.default.createElement(f.Provider,{value:l},n((function(e){return s(e)})))},v=function(t,n,a){var r=function(e){var t=n.current;t&&!t.contains(e.target)&&a()};e.useEffect((function(){if(t)return document.addEventListener("click",r),function(){document.removeEventListener("click",r)}}),[])},h=function(t,n){var a=function(e){e.keyCode===t&&n()};e.useEffect((function(){return document.addEventListener("keyup",a),function(){document.removeEventListener("keyup",a)}}),[])},E=function(t){var n=t.children,a=t.closeOnClickOutside,r=t.closeOnEscape,i=t.onToggle,s=e.useContext(l),u=e.createRef();return e.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),h(27,(function(){return r&&i()})),v(a,u,i),o.default.createElement("div",{className:s.prefixClass+"-modal-body",ref:u},n)},C=function(t){var n=t.children,a=e.useContext(l);return o.default.createElement("div",{className:a.prefixClass+"-modal-overlay"},n)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(r||(r={}));var x,w=function(){var t=e.useState(!1),n=t[0],a=t[1];return{opened:n,toggle:function(e){switch(e){case r.Close:a(!1);break;case r.Open:a(!0);break;case r.Toggle:default:a((function(e){return!e}))}}}},y=function(e){var t=e.content,n=e.target,a=w(),r=a.opened,i=a.toggle;return o.default.createElement(o.default.Fragment,null,n(i,r),r&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(x||(x={}));var k,b=x,P=function(t,n,a,r,o){e.useLayoutEffect((function(){var e=n.current,i=t.current,l=a.current;if(i&&e&&l){var s=l.getBoundingClientRect(),u=function(e,t,n,a){var r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,l=o.width,s=0,u=0;switch(n){case b.TopLeft:s=r.top-i,u=r.left;break;case b.TopCenter:s=r.top-i,u=r.left+r.width/2-l/2;break;case b.TopRight:s=r.top-i,u=r.left+r.width-l;break;case b.RightTop:s=r.top,u=r.left+r.width;break;case b.RightCenter:s=r.top+r.height/2-i/2,u=r.left+r.width;break;case b.RightBottom:s=r.top+r.height-i,u=r.left+r.width;break;case b.BottomLeft:s=r.top+r.height,u=r.left;break;case b.BottomCenter:s=r.top+r.height,u=r.left+r.width/2-l/2;break;case b.BottomRight:s=r.top+r.height,u=r.left+r.width-l;break;case b.LeftTop:s=r.top,u=r.left-l;break;case b.LeftCenter:s=r.top+r.height/2-i/2,u=r.left-l;break;case b.LeftBottom:s=r.top+r.height-i,u=r.left-l}return{left:u+(a.left||0),top:s+(a.top||0)}}(i,e,r,o),c=u.top,p=u.left;i.style.top=c-s.top+"px",i.style.left=p-s.left+"px"}}),[])},O=function(t){var n,a=t.customClassName,r=t.position,i=e.useContext(l);return o.default.createElement("div",{className:s((n={},n[i.prefixClass+"-arrow"]=!0,n[i.prefixClass+"-arrow-tl"]=r===b.TopLeft,n[i.prefixClass+"-arrow-tc"]=r===b.TopCenter,n[i.prefixClass+"-arrow-tr"]=r===b.TopRight,n[i.prefixClass+"-arrow-rt"]=r===b.RightTop,n[i.prefixClass+"-arrow-rc"]=r===b.RightCenter,n[i.prefixClass+"-arrow-rb"]=r===b.RightBottom,n[i.prefixClass+"-arrow-bl"]=r===b.BottomLeft,n[i.prefixClass+"-arrow-bc"]=r===b.BottomCenter,n[i.prefixClass+"-arrow-br"]=r===b.BottomRight,n[i.prefixClass+"-arrow-lt"]=r===b.LeftTop,n[i.prefixClass+"-arrow-lc"]=r===b.LeftCenter,n[i.prefixClass+"-arrow-lb"]=r===b.LeftBottom,n[""+a]=""!==a,n))})},L=function(t){var n=t.children,a=t.closeOnClickOutside,r=t.offset,i=t.position,s=t.targetRef,u=t.onClose,c=e.useContext(l),p=e.createRef(),d=e.createRef();return v(a,p,u),P(p,s,d,i,r),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{ref:d,style:{left:0,position:"absolute",top:0}}),o.default.createElement("div",{className:c.prefixClass+"-popover-body",ref:p},o.default.createElement(O,{customClassName:c.prefixClass+"-popover-body-arrow",position:i}),n))},R=function(t){var n=t.closeOnEscape,a=t.onClose,r=e.useContext(l);return h(27,(function(){return n&&a()})),o.default.createElement("div",{className:r.prefixClass+"-popover-overlay"})},T=function(t){var n=t.children,a=t.offset,r=t.position,i=t.targetRef,s=e.useContext(l),u=e.createRef(),c=e.createRef();return P(u,i,c,r,a),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{ref:c,style:{left:0,position:"absolute",top:0}}),o.default.createElement("div",{className:s.prefixClass+"-tooltip-body",ref:u},o.default.createElement(O,{customClassName:s.prefixClass+"-tooltip-body-arrow",position:r}),o.default.createElement("div",{className:s.prefixClass+"-tooltip-body-content"},n)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(k||(k={}));var M=k,S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function N(e,t){function n(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var H,B=function(){return(B=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(H||(H={}));var F,A=H,I=function(t){var n=t.page,a=t.renderAnnotations,r=e.useState(!0),i=r[0],l=r[1],s=e.useState([]),u=s[0],c=s[1];return e.useEffect((function(){n.getAnnotations({intent:"display"}).then((function(e){l(!1),c(e)}))}),[]),i?o.default.createElement(o.default.Fragment,null):a(u)};!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(F||(F={}));var D,W=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(D||(D={}));var j,V=D,_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),z=function(e,t,n,a){var r=parseInt(e,10);return r>=t&&r<=n?r:a},q=function(t){var n=t.annotation,a=e.useContext(l),r="";if(n.modificationDate){var i=function(e){var t=_.exec(e);if(!t)return null;var n=parseInt(t[1],10),a=z(t[2],1,12,1)-1,r=z(t[3],1,31,1),o=z(t[4],0,23,0),i=z(t[5],0,59,0),l=z(t[6],0,59,0),s=t[7]||"Z",u=z(t[8],0,23,0),c=z(t[9],0,59,0);switch(s){case"-":o+=u,i+=c;break;case"+":o-=u,i-=c}return new Date(Date.UTC(n,a,r,o,i,l))}(n.modificationDate);r=i?i.toLocaleDateString()+", "+i.toLocaleTimeString():""}return o.default.createElement("div",{className:a.prefixClass+"-annotation-popup-wrapper",style:{top:n.annotationType===W.Popup?"":"100%"}},n.title&&o.default.createElement("div",{className:a.prefixClass+"-annotation-popup-wrapper-header"},o.default.createElement("div",{className:a.prefixClass+"-annotation-popup-wrapper-title"},n.title),o.default.createElement("span",{className:a.prefixClass+"-annotation-popup-wrapper-date"},r)),n.contents&&o.default.createElement("div",{className:a.prefixClass+"-annotation-popup-wrapper-content"},n.contents.split("\n").map((function(t,n){return o.default.createElement(e.Fragment,{key:n},t,o.default.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(j||(j={}));var U=function(t){var n,a=t.annotation,i=t.children,l=t.ignoreBorder,s=t.hasPopup,u=t.isRenderable,c=t.page,p=t.viewport,d=a.rect,f=function(){var t=w(),n=t.opened,a=t.toggle,o=e.useState(j.Hover),i=o[0],l=o[1];return{opened:n,closeOnHover:function(){i===j.Hover&&a(r.Close)},openOnHover:function(){i===j.Hover&&a(r.Open)},toggleOnClick:function(){switch(i){case j.Click:n&&l(j.Hover),a(r.Toggle);break;case j.Hover:l(j.Click),a(r.Open)}}}}(),g=f.closeOnHover,m=f.opened,v=f.openOnHover,h=f.toggleOnClick,E=(n=[d[0],c.view[3]+c.view[1]-d[1],d[2],c.view[3]+c.view[1]-d[3]],[Math.min(n[0],n[2]),Math.min(n[1],n[3]),Math.max(n[0],n[2]),Math.max(n[1],n[3])]),C=d[2]-d[0],x=d[3]-d[1],y={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!l&&a.borderStyle.width>0){switch(a.borderStyle.style){case V.Dashed:y.borderStyle="dashed";break;case V.Solid:y.borderStyle="solid";break;case V.Underline:y=Object.assign({borderBottomStyle:"solid"},y);break;case V.Beveled:case V.Inset:}var k=a.borderStyle.width;y.borderWidth=k+"px",a.borderStyle.style!==V.Underline&&(C-=2*k,x-=2*k);var b=a.borderStyle,P=b.horizontalCornerRadius,O=b.verticalCornerRadius;(P>0||O>0)&&(y.borderRadius=P+"px / "+O+"px"),a.color?y.borderColor="rgb("+(0|a.color[0])+", "+(0|a.color[1])+", "+(0|a.color[2])+")":y.borderWidth="0"}return o.default.createElement(o.default.Fragment,null,u&&i({popup:{opened:m,closeOnHover:g,openOnHover:v,toggleOnClick:h},slot:{attrs:{style:Object.assign({height:x+"px",left:E[0]+"px",top:E[1]+"px",transform:"matrix("+p.transform.join(",")+")",transformOrigin:"-"+E[0]+"px -"+E[1]+"px",width:C+"px"},y)},children:o.default.createElement(o.default.Fragment,null,s&&m&&o.default.createElement(q,{annotation:a}))}}))},Z=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents);return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-caret","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents),c=n.rect,p=c[2]-c[0],d=c[3]-c[1],f=n.borderStyle.width;return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-circle","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),o.default.createElement("svg",{height:d+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+p+" "+d,width:p+"px"},o.default.createElement("circle",{cy:d/2,fill:"none",rx:p/2-f/2,ry:d/2-f/2,stroke:"transparent",strokeWidth:f||1})),e.slot.children)}))},J=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!(!1!==n.hasPopup||!n.title&&!n.contents),u=function(){var e,t,a,r,o=n.file;o&&(e=o.filename,t=o.content,a="string"==typeof t?"":URL.createObjectURL(new Blob([t],{type:""})),(r=document.createElement("a")).style.display="none",r.href=a||e,r.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(r),r.click(),document.body.removeChild(r),a&&URL.revokeObjectURL(a))};return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:!0,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-file-attachment","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onDoubleClick:u,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents);return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-free-text","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Y=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents);return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},K=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents),c=n.rect,p=c[2]-c[0],d=c[3]-c[1],f=n.borderStyle.width;return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-ink","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),n.inkLists&&n.inkLists.length&&o.default.createElement("svg",{height:d+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+p+" "+d,width:p+"px"},n.inkLists.map((function(e,t){return o.default.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:f||1,points:e.map((function(e){return e.x-c[0]+","+(c[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents),c=n.rect,p=c[2]-c[0],d=c[3]-c[1],f=n.borderStyle.width;return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-line","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),o.default.createElement("svg",{height:d+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+p+" "+d,width:p+"px"},o.default.createElement("line",{stroke:"transparent",strokeWidth:f||1,x1:c[2]-n.lineCoordinates[0],x2:c[2]-n.lineCoordinates[2],y1:c[3]-n.lineCoordinates[1],y2:c[3]-n.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){e.getPageIndex(t[0]).then((function(e){var a=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":return{bottomOffset:0,pageIndex:e-1,scaleTo:M.PageFit};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e,t);n(a)}))}))}))},ee=function(t){var n=t.annotation,a=t.doc,r=t.page,i=t.viewport,s=t.onExecuteNamedAction,u=t.onJumpToDest,c=e.useContext(l),p=!!(n.url||n.dest||n.action),d=n.url?{href:n.url,rel:"noopener noreferrer nofollow",target:n.newWindow?"_blank":"",title:n.url}:{href:"",onClick:function(e){e.preventDefault(),n.action?s(n.action):$(a,n.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,a=e.scaleTo;u(t+1,n,a)}))}};return o.default.createElement(U,{annotation:n,hasPopup:!1,ignoreBorder:!1,isRenderable:p,page:r,viewport:i},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:c.prefixClass+"-annotation "+c.prefixClass+"-annotation-link","data-annotation-id":n.id}),o.default.createElement("a",B({},d)))}))},te=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents),c=n.rect,p=c[2]-c[0],d=c[3]-c[1],f=n.borderStyle.width;return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-polygon","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),n.vertices&&n.vertices.length&&o.default.createElement("svg",{height:d+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+p+" "+d,width:p+"px"},o.default.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:n.vertices.map((function(e){return e.x-c[0]+","+(c[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents),c=n.rect,p=c[2]-c[0],d=c[3]-c[1],f=n.borderStyle.width;return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-polyline","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),n.vertices&&n.vertices.length&&o.default.createElement("svg",{height:d+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+p+" "+d,width:p+"px"},o.default.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:n.vertices.map((function(e){return e.x-c[0]+","+(c[3]-e.y)})).join(" ")})),e.slot.children)}))},ae=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!(!n.title&&!n.contents),u=!n.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(n.parentType);return e.useLayoutEffect((function(){if(n.parentId){var e=document.querySelector('[data-annotation-id="'+n.parentId+'"]'),t=document.querySelector('[data-annotation-id="'+n.id+'"]');if(e&&t){var a=parseFloat(e.style.left),r=parseFloat(e.style.top)+parseFloat(e.style.height);t.style.left=a+"px",t.style.top=r+"px",t.style.transformOrigin="-"+a+"px -"+r+"px"}}}),[]),o.default.createElement(U,{annotation:n,hasPopup:u,ignoreBorder:!1,isRenderable:s,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-popup","data-annotation-id":n.id}),o.default.createElement(q,{annotation:n}))}))},re=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents),c=n.rect,p=c[2]-c[0],d=c[3]-c[1],f=n.borderStyle.width;return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-square","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),o.default.createElement("svg",{height:d+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+p+" "+d,width:p+"px"},o.default.createElement("rect",{height:d-f,fill:"none",stroke:"transparent",strokeWidth:f||1,x:f/2,y:f/2,width:p-f})),e.slot.children)}))},oe=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents);return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-squiggly","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents);return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-stamp","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},le=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents);return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-strike-out","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return o.default.createElement(u,{size:16},o.default.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),o.default.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),o.default.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),o.default.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ue=function(){return o.default.createElement(u,{size:16},o.default.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),o.default.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),o.default.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),o.default.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),o.default.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),o.default.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),o.default.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),o.default.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),o.default.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),o.default.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},ce=function(){return o.default.createElement(u,{size:16},o.default.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),o.default.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},pe=function(){return o.default.createElement(u,{size:16},o.default.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),o.default.createElement("path",{d:"M6 4.5L6 0.5"}),o.default.createElement("path",{d:"M18 4.5L18 0.5"}),o.default.createElement("path",{d:"M10 4.5L10 0.5"}),o.default.createElement("path",{d:"M14 4.5L14 0.5"}))},de=function(){return o.default.createElement(u,{size:16},o.default.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),o.default.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),o.default.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},fe=function(){return o.default.createElement(u,{size:16},o.default.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},ge=function(t){var n=t.annotation,a=t.childAnnotation,r=t.page,i=t.viewport,s=e.useContext(l),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents),d=n.name?n.name.toLowerCase():"";return o.default.createElement(U,{annotation:n,hasPopup:u,ignoreBorder:!1,isRenderable:p,page:r,viewport:i},(function(e){return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",B({},e.slot.attrs,{className:s.prefixClass+"-annotation "+s.prefixClass+"-annotation-text","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&o.default.createElement("div",{className:s.prefixClass+"-annotation-text-icon"},"check"===d&&o.default.createElement(c,null),"comment"===d&&o.default.createElement(se,null),"help"===d&&o.default.createElement(ue,null),"insert"===d&&o.default.createElement(fe,null),"key"===d&&o.default.createElement(ce,null),"note"===d&&o.default.createElement(pe,null),("newparagraph"===d||"paragraph"===d)&&o.default.createElement(de,null)),e.slot.children),a&&a.annotationType===W.Popup&&e.popup.opened&&o.default.createElement(ae,{annotation:a,page:r,viewport:i}))}))},me=function(t){var n=t.annotation,a=t.page,r=t.viewport,i=e.useContext(l),s=!1===n.hasPopup,u=!!(n.hasPopup||n.title||n.contents);return o.default.createElement(U,{annotation:n,hasPopup:s,ignoreBorder:!0,isRenderable:u,page:a,viewport:r},(function(e){return o.default.createElement("div",B({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-underline","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ve=function(t){var n=t.doc,a=t.page,r=t.rotation,i=t.scale,s=t.onExecuteNamedAction,u=t.onJumpToDest,c=e.useContext(l);return o.default.createElement("div",{className:c.prefixClass+"-annotation-layer"},o.default.createElement(I,{page:a,renderAnnotations:function(t){var l=a.getViewport({rotation:r,scale:i}).clone({dontFlip:!0});return o.default.createElement(o.default.Fragment,null,t.filter((function(e){return!e.parentId})).map((function(r){var i=t.find((function(e){return e.parentId===r.id}));switch(r.annotationType){case W.Caret:return o.default.createElement(Z,{key:r.id,annotation:r,page:a,viewport:l});case W.Circle:return o.default.createElement(G,{key:r.id,annotation:r,page:a,viewport:l});case W.FileAttachment:return o.default.createElement(J,{key:r.id,annotation:r,page:a,viewport:l});case W.FreeText:return o.default.createElement(X,{key:r.id,annotation:r,page:a,viewport:l});case W.Highlight:return o.default.createElement(Y,{key:r.id,annotation:r,page:a,viewport:l});case W.Ink:return o.default.createElement(K,{key:r.id,annotation:r,page:a,viewport:l});case W.Line:return o.default.createElement(Q,{key:r.id,annotation:r,page:a,viewport:l});case W.Link:return o.default.createElement(ee,{key:r.id,annotation:r,doc:n,page:a,viewport:l,onExecuteNamedAction:s,onJumpToDest:u});case W.Polygon:return o.default.createElement(te,{key:r.id,annotation:r,page:a,viewport:l});case W.Polyline:return o.default.createElement(ne,{key:r.id,annotation:r,page:a,viewport:l});case W.Popup:return o.default.createElement(ae,{key:r.id,annotation:r,page:a,viewport:l});case W.Square:return o.default.createElement(re,{key:r.id,annotation:r,page:a,viewport:l});case W.Squiggly:return o.default.createElement(oe,{key:r.id,annotation:r,page:a,viewport:l});case W.Stamp:return o.default.createElement(ie,{key:r.id,annotation:r,page:a,viewport:l});case W.StrikeOut:return o.default.createElement(le,{key:r.id,annotation:r,page:a,viewport:l});case W.Text:return o.default.createElement(ge,{key:r.id,annotation:r,childAnnotation:i,page:a,viewport:l});case W.Underline:return o.default.createElement(me,{key:r.id,annotation:r,page:a,viewport:l});default:return o.default.createElement(e.Fragment,{key:r.id})}})))}}))},he=function(t){var n=t.callback,a=t.children,r=t.rotation,i=t.scale;return e.useLayoutEffect((function(){n()}),[r,i]),o.default.createElement(o.default.Fragment,null,a)},Ee=function(t){var n=t.height,a=t.page,r=t.pageIndex,i=t.rotation,s=t.scale,u=t.width,c=t.onCanvasLayerRender,p=e.useContext(l),d=e.createRef(),f=e.useRef(),g=window.devicePixelRatio||1;return o.default.createElement(he,{callback:function(){var e=f.current;e&&e.cancel();var t=d.current;t.height=n*g,t.width=u*g;var o=t.getContext("2d",{alpha:!1}),l=a.getViewport({rotation:i,scale:s*g});f.current=a.render({canvasContext:o,viewport:l}),f.current.promise.then((function(){c({ele:t,pageIndex:r,rotation:i,scale:s})}),(function(){}))},rotation:i,scale:s},o.default.createElement("div",{className:p.prefixClass+"-canvas-layer",style:{height:n+"px",width:u+"px"}},o.default.createElement("canvas",{ref:d,style:{transform:"scale("+1/g+")",transformOrigin:"top left"}})))},Ce=function(t){var n=t.height,a=t.page,r=t.rotation,s=t.scale,u=t.width,c=e.useContext(l),p=e.createRef();return o.default.createElement(he,{callback:function(){var e=p.current,t=a.getViewport({rotation:r,scale:s});a.getOperatorList().then((function(r){!function(){var e=p.current;e&&(e.innerHTML="")}(),new i.SVGGraphics(a.commonObjs,a.objs).getSVG(r,t).then((function(t){t.style.height=n+"px",t.style.width=u+"px",e.appendChild(t)}))}))},rotation:r,scale:s},o.default.createElement("div",{className:c.prefixClass+"-svg-layer",ref:p}))},xe=function(t){var n=t.page,a=t.pageIndex,r=t.plugins,s=t.rotation,u=t.scale,c=e.useContext(l),p=e.createRef(),d=e.useRef();return o.default.createElement(he,{callback:function(){var e=d.current;e&&e.cancel();var t=p.current;if(t){var o=n.getViewport({rotation:s,scale:u});r.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:t,pageIndex:a,scale:u,status:A.PreRender})})),n.getTextContent().then((function(e){!function(){var e=p.current;if(e)for(var t=e.querySelectorAll("span."+c.prefixClass+"-text"),n=t.length,a=0;a<n;a++){var r=t[a];e.removeChild(r)}}(),d.current=i.renderTextLayer({container:t,textContent:e,viewport:o}),d.current.promise.then((function(){for(var e=t.childNodes,n=e.length,o=0;o<n;o++){e[o].classList.add(c.prefixClass+"-text")}r.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:t,pageIndex:a,scale:u,status:A.DidRender})}))}),(function(){}))}))}},rotation:s,scale:u},o.default.createElement("div",{className:c.prefixClass+"-text-layer",ref:p}))},we=function(t){var n=t.doc,a=t.height,r=t.pageIndex,i=t.plugins,s=t.renderPage,u=t.rotation,c=t.scale,f=t.width,g=t.onCanvasLayerRender,m=t.onExecuteNamedAction,v=t.onJumpToDest,h=t.onPageVisibilityChanged,E=e.useContext(l),C=e.useState({isCalculated:!1,page:null,pageHeight:a,pageWidth:f,viewportRotation:0}),x=C[0],w=C[1],y=x.isCalculated,k=x.page,b=x.pageHeight,P=x.pageWidth,O=Array(10).fill(null).map((function(e,t){return t/10})),L=P*c,R=b*c,T=Math.abs(u)%180==0,M=T?L:R,S=T?R:L,N=s||function(e){return o.default.createElement(o.default.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},H=(u+x.viewportRotation)%360;return o.default.createElement(d,{onVisibilityChanged:function(e){h(r,e.isVisible?e.ratio:-1),e.isVisible&&!y&&n.getPage(r+1).then((function(e){var t=e.getViewport({scale:1});w({isCalculated:!0,page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})}))},threshold:O},o.default.createElement("div",{className:E.prefixClass+"-page-layer",style:{height:S+"px",width:M+"px"}},k?N({annotationLayer:{attrs:{},children:o.default.createElement(ve,{doc:n,page:k,rotation:H,scale:c,onExecuteNamedAction:m,onJumpToDest:v})},canvasLayer:{attrs:{},children:o.default.createElement(Ee,{height:S,page:k,pageIndex:r,rotation:H,scale:c,width:M,onCanvasLayerRender:g})},doc:n,height:S,pageIndex:r,rotation:u,scale:c,svgLayer:{attrs:{},children:o.default.createElement(Ce,{height:S,page:k,rotation:H,scale:c,width:M})},textLayer:{attrs:{},children:o.default.createElement(xe,{page:k,pageIndex:r,plugins:i,rotation:H,scale:c})},width:M}):o.default.createElement(p,null)))},ye=function(t){var n=t.defaultScale,a=t.doc,r=t.initialPage,i=t.pageSize,s=t.plugins,u=t.renderPage,c=t.viewerState,p=t.onCanvasLayerRender,d=t.onDocumentLoad,f=t.onOpenFile,g=t.onPageChange,m=t.onZoom,v=e.useContext(l),h=e.useRef(null),E=e.useRef(null),C=e.useState(i.scale),x=C[0],w=C[1],y=e.useState(0),k=y[0],b=y[1],P=e.useState(0),O=P[0],L=P[1],R=e.useRef(c),T=a.numPages,S=i.pageWidth,N=i.pageHeight,H=Array(T).fill(null),F=H.map((function(){return 0})),A=H.map((function(){return e.useRef()})),I=function(e){var t=e;s.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),R.current=t},D=function(){return E},W=function(){return R.current},j=function(e,t,n){var r=E.current,o=R.current;if(r&&o){var i=e+1;a.getPage(i).then((function(a){var i=a.getViewport({scale:1}),l=0,s=t||0;switch(n){case M.PageFit:l=0,q(M.PageFit);break;default:l=(i.height-s)*o.scale}var u=A[e].current;u&&(r.scrollTop=u.offsetTop+l)}))}},V=function(e){if(!(e<0||e>=T)){var t=E.current,n=A[e].current;t&&n&&(t.scrollTop=n.offsetTop),b(e)}},_=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){f(e.name,t)}))},z=function(e){L(e),I({file:c.file,pageIndex:k,pageHeight:N,pageWidth:S,rotation:e,scale:x})},q=function(e){var t=E.current;if(t){var n=1;switch(e){case M.ActualSize:n=1;break;case M.PageFit:n=Math.min((t.offsetWidth-17)/S,(t.offsetHeight-16)/N);break;case M.PageWidth:n=(t.offsetWidth-17)/S;break;default:n=e}w(n),m({doc:a,scale:n}),I({file:c.file,pageIndex:k,pageHeight:N,pageWidth:S,rotation:O,scale:n})}};e.useEffect((function(){var e={getPagesRef:D,getViewerState:W,jumpToDestination:j,jumpToPage:V,openFile:_,rotate:z,setViewerState:I,zoom:q};return s.forEach((function(t){t.install&&t.install(e)})),function(){s.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),e.useEffect((function(){d({doc:a}),s.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:a})})),r&&V(r)}),[]),e.useEffect((function(){g({currentPage:k,doc:a}),I({file:c.file,pageIndex:k,pageHeight:N,pageWidth:S,rotation:O,scale:x})}),[k]),e.useEffect((function(){n&&q(n)}),[]);var U,Z=function(e,t){F[e]=t;var n=F.reduce((function(e,t,n,a){return t>a[e]?n:e}),0);b(n)},G=function(e){var t=k-1,n=k+1;switch(e){case"FirstPage":V(0);break;case"LastPage":V(T-1);break;case"NextPage":n<T&&V(n);break;case"PrevPage":t>=0&&V(t)}},J=function(e){return o.default.createElement("div",B({},e.attrs,{style:e.attrs&&e.attrs.style?e.attrs.style:{}}),e.children,e.subSlot&&J(e.subSlot))};return J((U={attrs:{ref:h,style:{height:"100%"}},subSlot:{attrs:{ref:E,style:{height:"100%",overflow:"auto",position:"relative"}},children:o.default.createElement(o.default.Fragment,null,Array(T).fill(0).map((function(e,t){return o.default.createElement("div",{className:v.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){A[t].current=e}},o.default.createElement(we,{doc:a,height:N,pageIndex:t,plugins:s,renderPage:u,rotation:O,scale:x,width:S,onCanvasLayerRender:p,onExecuteNamedAction:G,onJumpToDest:j,onPageVisibilityChanged:Z}))})))}},s.forEach((function(e){e.renderViewer&&(U=e.renderViewer({containerRef:h,doc:a,pageHeight:N,pageWidth:S,rotation:O,slot:U,jumpToPage:V,openFile:_,rotate:z,zoom:q}))})),U))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],be=function(t){var n=t.doc,a=t.render,r=e.useContext(l),i=e.useRef(null),s=e.useState({pageHeight:0,pageWidth:0,scale:1}),u=s[0],c=s[1];return e.useEffect((function(){n.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,a=t.height,r=i.current;if(r){var o,l,s=r.offsetWidth/n,u=(o=Math.max(1,s),-1===(l=ke.findIndex((function(e){return e>=o})))||0===l?o:ke[l-1]);c({pageHeight:a,pageWidth:n,scale:u})}}))}),[n]),0===u.pageWidth?o.default.createElement("div",{className:r.prefixClass+"-page-size-calculator",ref:i},o.default.createElement(p,null)):a(u)},Pe=function(){},Oe=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Pe),Le=function(t){var n=t.verifyPasswordFn,a=e.useContext(f),r=e.useContext(l),i=e.useState(""),s=i[0],u=i[1];return o.default.createElement("div",{className:r.prefixClass+"-asking-password"},o.default.createElement("div",null,o.default.createElement("div",{className:r.prefixClass+"-asking-password-message"},a.askingPassword.requirePasswordToOpen,":"),o.default.createElement("div",{className:r.prefixClass+"-asking-password-input-container"},o.default.createElement("input",{className:r.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return u(e.target.value)}}),o.default.createElement("button",{className:r.prefixClass+"-asking-password-button",onClick:function(){return n(s)}},a.askingPassword.submit))))},Re=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Pe),Te=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Pe),Me=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Pe),Se=function(t){var n=t.verifyPasswordFn,a=e.useContext(f),r=e.useContext(l),i=e.useState(""),s=i[0],u=i[1];return o.default.createElement("div",{className:r.prefixClass+"-asking-password"},o.default.createElement("div",null,o.default.createElement("div",{className:r.prefixClass+"-asking-password-message"},a.wrongPassword.tryAgain,":"),o.default.createElement("div",{className:r.prefixClass+"-asking-password-input-container"},o.default.createElement("input",{className:r.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return u(e.target.value)}}),o.default.createElement("button",{className:r.prefixClass+"-asking-password-button",onClick:function(){return n(s)}},a.wrongPassword.submit))))},Ne=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Pe),He=function(t){var n=t.characterMap,a=t.file,r=t.render,s=t.renderError,u=e.useContext(l),c=e.useState(new Me(0)),d=c[0],f=c[1];switch(e.useEffect((function(){f(new Me(0));var e=Object.assign({},"string"==typeof a?{url:a,withCredentials:!0}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),t=i.getDocument(e);return t.onPassword=function(e,t){switch(t){case i.PasswordResponses.NEED_PASSWORD:f(new Oe(e));break;case i.PasswordResponses.INCORRECT_PASSWORD:f(new Ne(e))}},t.promise.then((function(e){return f(new Re(e))}),(function(e){return f(new Te({message:e.message||"Cannot load document",name:e.name}))})),function(){t.destroy()}}),[a]),!0){case d instanceof Oe:return o.default.createElement(Le,{verifyPasswordFn:d.verifyPasswordFn});case d instanceof Ne:return o.default.createElement(Se,{verifyPasswordFn:d.verifyPasswordFn});case d instanceof Re:return r(d.doc);case d instanceof Te:return s?s(d.error):o.default.createElement("div",{className:u.prefixClass+"-doc-error"},o.default.createElement("div",{className:u.prefixClass+"-doc-error-text"},d.error.message));case d instanceof Me:default:return o.default.createElement("div",{className:u.prefixClass+"-doc-loading"},o.default.createElement(p,null))}},Be=function(e){var t=e.children,n=e.prefixClass;return o.default.createElement(l.Provider,{value:{prefixClass:n||"rpv-core"}},t)};exports.Button=function(t){var n,a=t.children,r=t.isSelected,i=void 0!==r&&r,u=t.onClick,c=e.useContext(l);return o.default.createElement("button",{className:s((n={},n[c.prefixClass+"-button"]=!0,n[c.prefixClass+"-button-selected"]=i,n)),onClick:u},a)},exports.Icon=u,exports.LocalizationContext=f,exports.LocalizationProvider=m,exports.Menu=function(t){var n=t.children,a=e.useContext(l);return o.default.createElement("ul",{className:a.prefixClass+"-menu"},n)},exports.MenuDivider=function(){var t=e.useContext(l);return o.default.createElement("li",{className:t.prefixClass+"-menu-divider"})},exports.MenuItem=function(t){var n=t.checked,a=void 0!==n&&n,r=t.children,i=t.icon,s=void 0===i?null:i,u=t.onClick,p=e.useContext(l);return o.default.createElement("li",{className:p.prefixClass+"-menu-item",onClick:u},o.default.createElement("div",{className:p.prefixClass+"-menu-item-icon"},s),o.default.createElement("div",{className:p.prefixClass+"-menu-item-label"},r),o.default.createElement("div",{className:p.prefixClass+"-menu-item-check"},a&&o.default.createElement(c,null)))},exports.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,r=e.target;return o.default.createElement(y,{target:r,content:function(e){return o.default.createElement(C,null,o.default.createElement(E,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},exports.Observer=d,exports.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,r=e.offset,i=e.position,l=e.target,s=o.default.createRef();return o.default.createElement(y,{content:function(e){return o.default.createElement(o.default.Fragment,null,o.default.createElement(R,{closeOnEscape:n,onClose:e}),o.default.createElement(L,{closeOnClickOutside:t,offset:r,position:i,targetRef:s,onClose:e},a(e)))},target:function(e,t){return o.default.createElement("div",{ref:s},l(e,t))}})},exports.Position=b,exports.PrimaryButton=function(t){var n=t.children,a=t.onClick,r=e.useContext(l);return o.default.createElement("button",{className:r.prefixClass+"-primary-button",onClick:a},n)},exports.ProgressBar=function(t){var n=t.progress,a=e.useContext(l);return o.default.createElement("div",{className:a.prefixClass+"-progress-bar"},o.default.createElement("div",{className:a.prefixClass+"-progress-bar-inner",style:{width:n+"%"}},n,"%"))},exports.Separator=function(){var t=e.useContext(l);return o.default.createElement("div",{className:t.prefixClass+"-separator"})},exports.SpecialZoomLevel=M,exports.Spinner=p,exports.TextLayerRenderStatus=A,exports.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,i=e.target,l=o.default.createRef();return o.default.createElement(y,{target:function(e){return o.default.createElement("div",{ref:l,onMouseEnter:function(){e(r.Open)},onMouseLeave:function(){e(r.Close)}},i)},content:function(){return o.default.createElement(T,{offset:n,position:a,targetRef:l},t())}})},exports.Worker=function(e){var t=e.children,n=e.workerUrl;return i.GlobalWorkerOptions.workerSrc=n,o.default.createElement(o.default.Fragment,null,t)},exports.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,a){var r;t=B(B({},t),((r={})[e]=a,r)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},exports.default=function(t){var n=t.characterMap,a=t.defaultScale,r=t.fileUrl,i=t.initialPage,l=void 0===i?0:i,s=t.localization,u=t.plugins,c=void 0===u?[]:u,p=t.prefixClass,d=t.renderError,f=t.renderPage,g=t.onCanvasLayerRender,v=void 0===g?function(){}:g,h=t.onDocumentLoad,E=void 0===h?function(){}:h,C=t.onPageChange,x=void 0===C?function(){}:C,w=t.onZoom,y=void 0===w?function(){}:w,k=e.useState({data:r,name:"string"==typeof r?r:""}),b=k[0],P=k[1],O=function(e,t){P({data:t,name:e})};return e.useEffect((function(){P({data:r,name:"string"==typeof r?r:""})}),[r]),o.default.createElement(Be,{prefixClass:p},o.default.createElement(m,{localization:s},(function(e){return o.default.createElement(He,{characterMap:n,file:b.data,render:function(e){return o.default.createElement(be,{doc:e,render:function(t){return o.default.createElement(ye,{defaultScale:a,doc:e,initialPage:l,pageSize:t,plugins:c,renderPage:f,viewerState:{file:b,pageIndex:l,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onCanvasLayerRender:v,onDocumentLoad:E,onOpenFile:O,onPageChange:x,onZoom:y})}})},renderError:d})})))};
